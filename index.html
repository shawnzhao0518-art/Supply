<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>Swisse è¿åŠ¨è¥å…»ä¸ªæ€§åŒ–è¯„ä¼°æŠ¥å‘Š</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 30px; max-width: 900px; margin: auto; }
    h2, h3 { color: #d32f2f; }
    label { display: block; margin-top: 15px; font-weight: bold; }
    input, select { width: 300px; padding: 6px; margin-top: 5px; }
    button { padding: 10px 20px; background-color: #d32f2f; color: #fff; border: none; cursor: pointer; margin-top: 20px; }
    .report { background: white; padding: 30px; margin-top: 40px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .section { margin-top: 25px; }
    .section h4 { color: #444; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
    ul { padding-left: 20px; }
    .tag { display: inline-block; background: #eee; padding: 4px 10px; border-radius: 6px; font-size: 12px; margin-right: 5px; }
  </style>
</head>
<body>

  <h2>Swisse è¿åŠ¨è¥å…»ä¸ªæ€§åŒ–æ¨èé—®å·</h2>

  <form id="quizForm">
    <label>å¹´é¾„ï¼š<input type="number" name="age" required></label>
    <label>æ€§åˆ«ï¼š
      <select name="gender">
        <option value="male">ç”·</option>
        <option value="female">å¥³</option>
      </select>
    </label>
    <label>èº«é«˜ï¼ˆcmï¼‰ï¼š<input type="number" name="height" required></label>
    <label>ä½“é‡ï¼ˆkgï¼‰ï¼š<input type="number" name="weight" required></label>

    <label>æ¯å‘¨è¿åŠ¨é¢‘ç‡ï¼š
      <select name="exercise_freq">
        <option value="0">0 æ¬¡</option>
        <option value="1">1â€“2 æ¬¡</option>
        <option value="3">3â€“4 æ¬¡</option>
        <option value="5">5 æ¬¡åŠä»¥ä¸Š</option>
      </select>
    </label>

    <label>è¿åŠ¨å¼ºåº¦ï¼š
      <select name="exercise_intensity">
        <option value="1">è½»åº¦</option>
        <option value="2">ä¸­åº¦</option>
        <option value="3">é«˜å¼ºåº¦</option>
      </select>
    </label>

    <label>é¥®é£Ÿç»“æ„ï¼ˆè›‹ç™½/é’™/è”¬èœï¼‰ï¼š
      <select name="diet">
        <option value="low">æ‘„å…¥ä¸è¶³</option>
        <option value="medium">ä¸­ç­‰</option>
        <option value="high">å……è¶³</option>
      </select>
    </label>

    <label>æ˜¯å¦æœ‰å…³èŠ‚é—®é¢˜æˆ–éª¨å¯†åº¦æ‹…å¿§ï¼Ÿ
      <select name="joint">
        <option value="yes">æ˜¯</option>
        <option value="no">å¦</option>
      </select>
    </label>

    <label>å®¶æ—æ˜¯å¦æœ‰éª¨è´¨ç–æ¾/è‚¥èƒ–/å¿ƒè„ç—…ç­‰ç—…å²ï¼Ÿ
      <select name="family">
        <option value="yes">æ˜¯</option>
        <option value="no">å¦</option>
      </select>
    </label>

    <label>å½“å‰å¥åº·ç›®æ ‡ï¼š
      <select name="goal">
        <option value="bone">éª¨éª¼å¥åº·</option>
        <option value="weight">æ§åˆ¶ä½“é‡</option>
        <option value="growth">æˆé•¿å‘è‚²</option>
        <option value="muscle">å¢è‚Œæ¢å¤</option>
        <option value="aging">æŠ—è¡°è€</option>
      </select>
    </label>

    <button type="submit">ç”Ÿæˆè¯„ä¼°æŠ¥å‘Š</button>
  </form>

  <div id="reportSection" class="report" style="display:none;">
    <h3>ğŸ“„ Swisse ä¸ªæ€§åŒ–è¿åŠ¨è¥å…»è¯„ä¼°æŠ¥å‘Š</h3>
    <div id="reportContent"></div>
    <button onclick="downloadPDF()">ğŸ“¥ å¯¼å‡º PDF æŠ¥å‘Š</button>
  </div>

  <!-- html2pdf JSåº“ -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>

  <script>
    document.getElementById("quizForm").onsubmit = function(e) {
      e.preventDefault();
      const f = e.target;
      const age = parseInt(f.age.value);
      const height = parseFloat(f.height.value);
      const weight = parseFloat(f.weight.value);
      const bmi = weight / ((height / 100) ** 2);
      const gender = f.gender.value;
      const freq = parseInt(f.exercise_freq.value);
      const intensity = parseInt(f.exercise_intensity.value);
      const diet = f.diet.value;
      const joint = f.joint.value === "yes";
      const family = f.family.value === "yes";
      const goal = f.goal.value;

      // å¤šç»´è¯„åˆ†
      const score = { bone: 0, weight: 0, growth: 0, muscle: 0, aging: 0 };
      if (age > 50) score.bone += 2, score.aging += 3;
      if (age < 12) score.growth += 5;
      if (bmi >= 28) score.weight += 3;
      if (bmi < 18.5) score.growth += 2;
      if (freq >= 4) score.muscle += 3;
      if (intensity === 3) score.muscle += 2;
      if (diet === "low") score.bone += 2, score.growth += 2;
      if (joint) score.bone += 3;
      if (family) score.weight += 2, score.bone += 2, score.aging += 1;
      if (goal) score[goal] += 5;

      // Swisseäº§å“æ¨èæ˜ å°„ï¼ˆæ¯ç§å˜åŒ–éƒ½é…äº§å“ï¼‰
      const products = [];

      if (age >= 60) products.push("Swisse CoQ10", "Swisse Collagen Booster");
      else if (age >= 40) products.push("Swisse Calcium + Vitamin D");

      if (bmi >= 30) products.push("Swisse Metabolism + Thermogenesis", "Swisse Detox");
      else if (bmi < 18.5) products.push("Swisse Protein Powder");

      if (diet === "low") products.push("Swisse Multivitamin", "Swisse Kids Bone Health");

      if (joint) products.push("Swisse Glucosamine + Chondroitin");

      if (goal === "muscle") products.push("Swisse Protein + Magnesium");

      if (goal === "growth") products.push("Swisse Kids Multi + Immunity");

      if (goal === "weight") products.push("Swisse Chlorophyll", "Swisse Fiber");

      // æŠ¥å‘Šæ–‡å­—ç”Ÿæˆ
      const report = `
        <div class="section">
          <h4>ä¸€ã€åŸºæœ¬ä¿¡æ¯</h4>
          <p>å¹´é¾„ï¼š${age}å²ï¼Œæ€§åˆ«ï¼š${gender === 'male' ? 'ç”·' : 'å¥³'}ï¼ŒBMIï¼š${bmi.toFixed(1)}</p>
          <p>è¿åŠ¨é¢‘ç‡ï¼šæ¯å‘¨ ${freq} æ¬¡ï¼Œå¼ºåº¦ï¼š${intensity === 1 ? "è½»åº¦" : intensity === 2 ? "ä¸­åº¦" : "é«˜å¼ºåº¦"}</p>
          <p>é¥®é£Ÿç»“æ„ï¼š${diet === "low" ? "æ‘„å…¥ä¸è¶³" : diet === "medium" ? "ä¸­ç­‰" : "æ‘„å…¥å……è¶³"}</p>
          <p>å¥åº·ç›®æ ‡ï¼š<span class="tag">${goal}</span></p>
        </div>
        <div class="section">
          <h4>äºŒã€å¥åº·ç»´åº¦å¾—åˆ†</h4>
          <ul>
            <li>éª¨éª¼å¥åº·ï¼š${score.bone}</li>
            <li>ä½“é‡ç®¡ç†ï¼š${score.weight}</li>
            <li>æˆé•¿å‘è‚²ï¼š${score.growth}</li>
            <li>å¢è‚Œæ¢å¤ï¼š${score.muscle}</li>
            <li>æŠ—è¡°è€ï¼š${score.aging}</li>
          </ul>
        </div>
        <div class="section">
          <h4>ä¸‰ã€æ¨èSwisseè¥å…»äº§å“</h4>
          <ul>${[...new Set(products)].map(p => `<li>${p}</li>`).join('')}</ul>
        </div>
        <div class="section">
          <h4>å››ã€ä½¿ç”¨å»ºè®®</h4>
          <p>ä¸Šè¿°äº§å“å»ºè®®è¿ç»­ä½¿ç”¨ 3-6 ä¸ªæœˆã€‚å»ºè®®æ­é…é¥®é£Ÿè°ƒæ•´å’Œé€‚åº¦è¿åŠ¨ï¼Œå¯æ¯å­£åº¦é‡æ–°å¡«å†™æ­¤é—®å·ä»¥è·å–æ–°æŠ¥å‘Šã€‚</p>
        </div>
      `;

      document.getElementById("reportContent").innerHTML = report;
      document.getElementById("reportSection").style.display = "block";
    };

    // ä¸‹è½½PDF
    function downloadPDF() {
      const element = document.getElementById("reportSection");
      html2pdf().from(element).save("Swisse_è¥å…»è¯„ä¼°æŠ¥å‘Š.pdf");
    }
  </script>

</body>
</html>
