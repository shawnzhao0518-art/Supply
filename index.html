<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>Swisse 运动营养推荐系统</title>
  <style>
    body { font-family: sans-serif; padding: 30px; background: #f4f4f4; max-width: 800px; margin: auto; }
    h2 { color: #d32f2f; }
    label { display: block; margin-top: 15px; }
    input, select { width: 300px; padding: 6px; margin-top: 5px; }
    button { margin-top: 20px; padding: 10px 20px; background: #d32f2f; color: white; border: none; cursor: pointer; }
    .result { margin-top: 30px; background: #fff; padding: 20px; border-left: 5px solid #d32f2f; }
    ul { padding-left: 20px; }
  </style>
</head>
<body>

  <h2>Swisse 个性化营养推荐</h2>

  <form id="quizForm">
    <label>年龄：<input type="number" name="age" required></label>
    <label>身高（cm）：<input type="number" name="height" required></label>
    <label>体重（kg）：<input type="number" name="weight" required></label>

    <label>每周运动频率：
      <select name="exercise_freq">
        <option value="0">0 次</option>
        <option value="1">1–2 次</option>
        <option value="3">3–4 次</option>
        <option value="5">5 次及以上</option>
      </select>
    </label>

    <label>运动强度：
      <select name="exercise_intensity">
        <option value="1">低</option>
        <option value="2">中</option>
        <option value="3">高</option>
      </select>
    </label>

    <label>健康目标：
      <select name="goal">
        <option value="bone">骨健康</option>
        <option value="weight">控制体重</option>
        <option value="growth">成长发育</option>
        <option value="muscle">增肌恢复</option>
        <option value="aging">抗衰老</option>
      </select>
    </label>

    <label>是否有关节痛或僵硬？
      <select name="joint_pain">
        <option value="yes">是</option>
        <option value="no">否</option>
      </select>
    </label>

    <label>家族是否有骨质疏松？
      <select name="family_history">
        <option value="yes">是</option>
        <option value="no">否</option>
      </select>
    </label>

    <label>日常饮食是否富含钙/维生素D？
      <select name="calcium_diet">
        <option value="yes">是</option>
        <option value="no">否</option>
      </select>
    </label>

    <button type="submit">获取推荐</button>
  </form>

  <div class="result" id="resultBox" style="display:none;">
    <h3>🎯 推荐的 Swisse 产品：</h3>
    <ul id="recommendList"></ul>
  </div>

  <script>
    document.getElementById("quizForm").onsubmit = function(e) {
      e.preventDefault();
      const form = e.target;

      // 收集数据
      const age = parseInt(form.age.value);
      const height = parseFloat(form.height.value);
      const weight = parseFloat(form.weight.value);
      const bmi = weight / ((height / 100) ** 2);
      const freq = parseInt(form.exercise_freq.value);
      const intensity = parseInt(form.exercise_intensity.value);
      const goal = form.goal.value;
      const jointPain = form.joint_pain.value === "yes";
      const familyHistory = form.family_history.value === "yes";
      const lowCalcium = form.calcium_diet.value === "no";

      // 打分模型
      const score = {
        bone: 0,
        weight: 0,
        growth: 0,
        muscle: 0,
        aging: 0
      };

      // 骨健康
      if (age > 50) score.bone += 3;
      if (jointPain) score.bone += 3;
      if (familyHistory) score.bone += 2;
      if (lowCalcium) score.bone += 2;
      if (goal === "bone") score.bone += 3;

      // 控制体重
      if (bmi >= 27) score.weight += 3;
      if (freq <= 1) score.weight += 2;
      if (intensity === 1) score.weight += 1;
      if (goal === "weight") score.weight += 3;

      // 成长发育
      if (age <= 18) score.growth += 3;
      if (freq >= 2) score.growth += 2;
      if (lowCalcium) score.growth += 2;
      if (goal === "growth") score.growth += 3;

      // 增肌恢复
      if (freq >= 3) score.muscle += 2;
      if (intensity === 3) score.muscle += 3;
      if (goal === "muscle") score.muscle += 3;

      // 抗衰老
      if (age >= 60) score.aging += 4;
      if (freq < 2) score.aging += 2;
      if (goal === "aging") score.aging += 3;

      // Swisse产品库
      const products = [
        { name: "Swisse Calcium + Vitamin D", goal: "bone", threshold: 7 },
        { name: "Swisse Glucosamine + Chondroitin", goal: "bone", threshold: 8 },
        { name: "Swisse Metabolism + Thermogenesis", goal: "weight", threshold: 6 },
        { name: "Swisse Chlorophyll", goal: "weight", threshold: 5 },
        { name: "Swisse Kids Bone Health", goal: "growth", threshold: 5 },
        { name: "Swisse Kids Multi + Immunity", goal: "growth", threshold: 5 },
        { name: "Swisse Protein Powder + Magnesium", goal: "muscle", threshold: 6 },
        { name: "Swisse CoQ10", goal: "aging", threshold: 6 },
        { name: "Swisse Hair Skin Nails + Collagen", goal: "aging", threshold: 7 }
      ];

      // 推荐匹配
      const recommended = products.filter(p => score[p.goal] >= p.threshold);

      // 输出结果
      const list = document.getElementById("recommendList");
      const box = document.getElementById("resultBox");
      list.innerHTML = "";

      if (recommended.length > 0) {
        recommended.forEach(item => {
          const li = document.createElement("li");
          li.textContent = item.name;
          list.appendChild(li);
        });
      } else {
        const li = document.createElement("li");
        li.textContent = "暂无明确推荐，请咨询专业营养师。";
        list.appendChild(li);
      }

      box.style.display = "block";
    };
  </script>

</body>
</html>
